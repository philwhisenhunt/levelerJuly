<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Document</title>
</head>
<body>

    <button type="button" onclick ="sendData({test:'ok'})">Click here</button>


    <form action="/">
    //put the form here
    //but understand what each part does
    </form>
    
</body>

<script>console.log("loaded")</script>

<script>
function sendData(data) {
    var XHR = new XMLHttpRequest();
    var urlEncodedData = "";
    var urlEncodedDataPairs = [];
    var name;

    //This turns the data object into an array of URL-encoded key/value pairs
    for(name in data){
        urlEncodedDataPairs.push(encodeURIComponent(name) + '=' + encodeURIComponent(data[name]));

    }

    urlEncodedData = urlEncodedDataPairs.join('&').replace(/%20/g, '+');
    XHR.addEventListener('load', function(event) {
        alert('It worked! Data was sent');
    });

    XHR.addEventListener('error', function(event){
        alert('Oops! Something goe wrong.');
    });

    XHR.open('POST', 'https://example.com/cors.php');
}
</script>
</html>